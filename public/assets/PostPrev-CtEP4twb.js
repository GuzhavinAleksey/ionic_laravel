import{d as b,r as y,c as h,w as n,u as r,a as x,v as w,b as m,o as C,e as o,g as a,l as I,i,j as f,k,q as V,m as B,n as T}from"./index-kly8HKmH.js";import{C as l}from"./confconnect-MmlfOzRO.js";import{_ as z,a as L,b as $}from"./FooterApp.vue_vue_type_script_setup_true_lang-D-hizSer.js";const j={class:"p-6 bg-gray-100 mb-20"},q={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},P={class:"rounded-md shadow-sm -space-y-px"},S={class:"absolute left-0 inset-y-0 flex items-center pl-3"},D=b({__name:"PostPrev",setup(R){const p=x(),u=w(),g=localStorage.getItem("token"),t=y({id:"",error:"",form:{title:"",content:""}});(()=>{try{l.get("/posts/"+u.params.id).then(e=>{e.data.error!=null?t.value.error=e.data.error:(t.value.id=e.data.data.id,t.value.form.title=e.data.data.title,t.value.form.content=e.data.data.content)})}catch(e){console.log(e)}})();const v=()=>{try{l.defaults.headers.Authorization="Bearer ".concat(g),l.put("/posts/"+u.params.id,t.value.form).then(e=>{e.title="",e.content=""}),l.get("/posts").then(e=>{e.data.error!=null?t.value.error=e.data.error:(t.value.success=e.data.success,t.value.message=e.data.message,t.value.list=e.data.list,p.navigate("/posts","forward","replace"))})}catch(e){t.value.error=e}};return(e,s)=>{const c=m("IonLabel"),_=m("LockClosedIcon");return C(),h(r(T),{class:"flex items-center justify-center h-screen bg-gray-200"},{default:n(()=>[o(r(B),{class:"w-full bg-white rounded-md shadow-md"},{default:n(()=>[o(z),a("div",{class:V(["w-full bg-gray-100 pl-0 lg:pl-64 min-h-screen",e.sideBarOpen?"overlay":""]),id:"main-content"},[o(L),a("div",j,[a("div",q,[a("div",N,[a("form",{class:"mt-8 space-y-6",onSubmit:I(v,["prevent"])},[a("div",P,[a("div",null,[o(c,{for:"Title",class:"sr-only"},{default:n(()=>[i("Title")]),_:1}),o(r(f),{id:"Title",name:"email",modelValue:t.value.form.title,"onUpdate:modelValue":s[0]||(s[0]=d=>t.value.form.title=d),type:"text",autocomplete:"Title",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Title"},null,8,["modelValue"])]),a("div",null,[o(c,{for:"Content",class:"sr-only"},{default:n(()=>[i("Content")]),_:1}),o(r(f),{id:"Content",name:"Content",modelValue:t.value.form.content,"onUpdate:modelValue":s[1]||(s[1]=d=>t.value.form.content=d),type:"text",autocomplete:"Content",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Content"},null,8,["modelValue"])])]),a("div",null,[o(r(k),{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:n(()=>[a("span",S,[o(_,{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})]),i(" Send ")]),_:1})])],32)])])]),o($)],2)]),_:1})]),_:1})}}});export{D as default};
