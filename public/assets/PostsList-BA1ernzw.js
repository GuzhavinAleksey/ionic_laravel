import{C as l}from"./confconnect-MmlfOzRO.js";import{d as h,r as g,c as x,w as n,u as r,a as w,o as d,e as o,g as t,f as m,s as v,F as b,q as y,m as B,n as k,t as C,k as f,i as p}from"./index-kly8HKmH.js";import{_ as I,a as $,b as E}from"./FooterApp.vue_vue_type_script_setup_true_lang-D-hizSer.js";const z={class:"p-6 bg-gray-100 mb-20"},A={class:"py-12"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},N={class:"font-inter w-full table-auto border-separate border-spacing-y-1 overflow-scroll text-left md:overflow-auto"},P=t("thead",{class:"w-full rounded-lg bg-[#222E3A]/[6%] text-base font-semibold text-white"},[t("tr",null,[t("th",{class:"whitespace-nowrap py-3 pl-1 text-sm font-normal text-[#212B36]"},"Title"),t("th",{class:"whitespace-nowrap py-3 pl-1 text-sm font-normal text-[#212B36]"},"Edit"),t("th",{class:"whitespace-nowrap py-3 pl-1 text-sm font-normal text-[#212B36]"},"Delete")])],-1),V={class:"cursor-pointer bg-[#f6f8fa] drop-shadow-[0_0_10px_rgba(34,46,58,0.02)] hover:shadow-2xl"},F={class:"px-1 py-4 text-sm font-normal text-[#637381]"},L={class:"px-1 py-4 text-sm font-normal text-[#637381]"},S={class:"px-1 py-4 text-sm font-normal text-[#637381]"},H=h({__name:"PostsList",setup(T){const i=w(),u=localStorage.getItem("token"),a=g({success:"",message:"",list:[]});(()=>{try{l.defaults.headers.Authorization="Bearer ".concat(u),l.get("/posts").then(e=>{e.data.error!=null?a.value.error=e.data.error:(a.value.success=e.data.success,a.value.message=e.data.message,a.value.list=e.data.list)})}catch(e){console.log(e)}})();const _=e=>{l.defaults.headers.Authorization="Bearer ".concat(u),l.delete("/posts/"+e),l.get("/posts").then(s=>{s.data.error!=null?a.value.error=s.data.error:(a.value.success=s.data.success,a.value.message=s.data.message,a.value.list=s.data.list)}),i.navigate("/posts","forward","replace")};return(e,s)=>(d(),x(r(k),{class:"flex items-center justify-center h-screen bg-gray-200"},{default:n(()=>[o(r(B),{class:"w-full bg-white rounded-md shadow-md"},{default:n(()=>[o(I),t("div",{class:y(["w-full bg-gray-100 pl-0 lg:pl-64 min-h-screen",e.sideBarOpen?"overlay":""]),id:"main-content"},[o($),t("div",z,[t("div",A,[t("div",D,[t("table",N,[P,t("tbody",V,[(d(!0),m(b,null,v(a.value.list,c=>(d(),m("tr",null,[t("td",F,C(c.title),1),t("td",L,[o(r(f),{onClick:()=>r(i).navigate({name:"Post_prev",params:{id:c.id}},"forward","replace")},{default:n(()=>[p("Edit")]),_:2},1032,["onClick"])]),t("td",S,[o(r(f),{onClick:q=>_(c.id)},{default:n(()=>[p("Delete")]),_:2},1032,["onClick"])])]))),256))])])])])]),o(E)],2)]),_:1})]),_:1}))}});export{H as default};
