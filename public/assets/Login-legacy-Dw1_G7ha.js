System.register(["./index-legacy-CbC_At0k.js","./confconnect-legacy-BSs7Inp-.js"],(function(e,r){"use strict";var t,o,n,a,l,s,u,d,i,c,f,m,p,g,v,x,w,y,h,b,k;return{setters:[function(e){t=e.d,o=e.r,n=e.c,a=e.w,l=e.u,s=e.a,u=e.b,d=e.o,i=e.e,c=e.f,f=e.g,m=e.t,p=e.h,g=e.I,v=e.i,x=e.j,w=e.k,y=e.l,h=e.m,b=e.n},function(e){k=e.C}],execute:function(){var r=f("div",null,[f("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Вход в систему")],-1),_={key:0,class:"flex p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800",role:"alert"},V=f("svg",{class:"inline flex-shrink-0 mr-3 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[f("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),j={class:"font-medium"},z={class:"rounded-md shadow-sm -space-y-px"},S={class:"absolute left-0 inset-y-0 flex items-center pl-3"};e("default",t({__name:"Login",setup:function(e){var t=s(),C=o({error:"",form:{email:"",password:""}}),I=function(){try{k.post("/auth/login",C.value.form).then((function(e){localStorage.setItem("token",e.data.access_token),localStorage.setItem("user",JSON.stringify(e.data.user)),t.navigate("/home","forward","replace")}))}catch(e){C.value.error=e}};return function(e,o){var s=u("LockClosedIcon");return d(),n(l(b),{class:"flex items-center justify-center h-screen bg-white-200"},{default:a((function(){return[i(l(h),{class:"max-w-md w-full space-y-8"},{default:a((function(){return[r,C.value.error?(d(),c("div",_,[V,f("div",null,[f("span",j,m(C.value.error),1)])])):p("",!0),f("form",{class:"mt-8 space-y-6",onSubmit:y(I,["prevent"])},[f("div",z,[f("div",null,[i(l(g),{for:"email-address",class:"sr-only"},{default:a((function(){return[v("email")]})),_:1}),i(l(x),{id:"email-address",name:"email",modelValue:C.value.form.email,"onUpdate:modelValue":o[0]||(o[0]=function(e){return C.value.form.email=e}),type:"text",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"email"},null,8,["modelValue"])]),f("div",null,[i(l(g),{for:"password",class:"sr-only"},{default:a((function(){return[v("Пароль")]})),_:1}),i(l(x),{id:"password",name:"password",modelValue:C.value.form.password,"onUpdate:modelValue":o[1]||(o[1]=function(e){return C.value.form.password=e}),type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Пароль"},null,8,["modelValue"])])]),f("div",null,[i(l(w),{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:a((function(){return[f("span",S,[i(s,{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})]),v(" Вход ")]})),_:1})])],32),i(l(w),{onClick:o[2]||(o[2]=function(){return l(t).navigate("/auth/registr","forward","replace")}),class:"w-full px-4 py-2 text-sm text-center text-white bg-indigo-600 rounded-md focus:outline-none hover:bg-indigo-500"},{default:a((function(){return[v(" Регистрация ")]})),_:1})]})),_:1})]})),_:1})}}}))}}}));
