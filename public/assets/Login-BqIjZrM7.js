import{d as x,r as v,c as w,w as s,u as o,a as h,b,o as u,e as r,f as y,g as e,t as _,h as k,I as c,i as n,j as m,k as f,l as I,m as C,n as V}from"./index-kly8HKmH.js";import{C as B}from"./confconnect-MmlfOzRO.js";const z=e("div",null,[e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Вход в систему")],-1),N={key:0,class:"flex p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg dark:bg-red-200 dark:text-red-800",role:"alert"},S=e("svg",{class:"inline flex-shrink-0 mr-3 w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})],-1),L={class:"font-medium"},j={class:"rounded-md shadow-sm -space-y-px"},M={class:"absolute left-0 inset-y-0 flex items-center pl-3"},E=x({__name:"Login",setup(q){const i=h(),t=v({error:"",form:{email:"",password:""}}),p=()=>{try{B.post("/auth/login",t.value.form).then(l=>{localStorage.setItem("token",l.data.access_token),localStorage.setItem("user",JSON.stringify(l.data.user)),i.navigate("/home","forward","replace")})}catch(l){t.value.error=l}};return(l,a)=>{const g=b("LockClosedIcon");return u(),w(o(V),{class:"flex items-center justify-center h-screen bg-white-200"},{default:s(()=>[r(o(C),{class:"max-w-md w-full space-y-8"},{default:s(()=>[z,t.value.error?(u(),y("div",N,[S,e("div",null,[e("span",L,_(t.value.error),1)])])):k("",!0),e("form",{class:"mt-8 space-y-6",onSubmit:I(p,["prevent"])},[e("div",j,[e("div",null,[r(o(c),{for:"email-address",class:"sr-only"},{default:s(()=>[n("email")]),_:1}),r(o(m),{id:"email-address",name:"email",modelValue:t.value.form.email,"onUpdate:modelValue":a[0]||(a[0]=d=>t.value.form.email=d),type:"text",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"email"},null,8,["modelValue"])]),e("div",null,[r(o(c),{for:"password",class:"sr-only"},{default:s(()=>[n("Пароль")]),_:1}),r(o(m),{id:"password",name:"password",modelValue:t.value.form.password,"onUpdate:modelValue":a[1]||(a[1]=d=>t.value.form.password=d),type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Пароль"},null,8,["modelValue"])])]),e("div",null,[r(o(f),{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:s(()=>[e("span",M,[r(g,{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})]),n(" Вход ")]),_:1})])],32),r(o(f),{onClick:a[2]||(a[2]=()=>o(i).navigate("/auth/registr","forward","replace")),class:"w-full px-4 py-2 text-sm text-center text-white bg-indigo-600 rounded-md focus:outline-none hover:bg-indigo-500"},{default:s(()=>[n(" Регистрация ")]),_:1})]),_:1})]),_:1})}}});export{E as default};
